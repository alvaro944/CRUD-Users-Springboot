# **ğŸ“Œ Enunciado: CRUD de Usuarios en Spring Boot**
## **1ï¸âƒ£ DescripciÃ³n del proyecto**
Vas a desarrollar una API REST para gestionar usuarios en una base de datos. La API permitirÃ¡ **crear, leer, actualizar y eliminar usuarios (CRUD)**. Los datos de los usuarios se almacenarÃ¡n en una base de datos H2 en memoria (para pruebas) o en MySQL (opcional).

---

## **2ï¸âƒ£ Requisitos**
### ğŸ“‚ **Estructura del proyecto**
Tu aplicaciÃ³n Spring Boot debe seguir esta organizaciÃ³n:

```
src/main/java/com/example/demo
 â”œâ”€â”€ DemoApplication.java  <-- Clase principal
 â”œâ”€â”€ controller/           <-- Controlador REST
 â”‚   â”œâ”€â”€ UserController.java
 â”œâ”€â”€ model/                <-- Clase de entidad
 â”‚   â”œâ”€â”€ User.java
 â”œâ”€â”€ repository/           <-- Interfaz para acceder a la BD
 â”‚   â”œâ”€â”€ UserRepository.java
 â”œâ”€â”€ service/              <-- LÃ³gica de negocio
 â”‚   â”œâ”€â”€ UserService.java
```

---

### ğŸ”¹ **Entidad `User` (model)**
La entidad `User` debe representar a un usuario con los siguientes atributos:

| Atributo | Tipo de Dato | DescripciÃ³n |
|----------|-------------|-------------|
| `id` | `Long` | Identificador Ãºnico (autoincremental) |
| `name` | `String` | Nombre del usuario |
| `email` | `String` | Correo electrÃ³nico (Ãºnico) |
| `age` | `int` | Edad del usuario |

ğŸ“Œ **Notas:**
- La clase `User` debe usar **JPA (`@Entity`)** para mapear la tabla en la base de datos.
- `id` debe ser una **clave primaria autoincremental** (`@Id @GeneratedValue`).
- `email` debe ser **Ãºnico**.

---

### ğŸ”¹ **Interfaz `UserRepository` (repository)**
Crea una **interfaz** `UserRepository` que extienda de `JpaRepository<User, Long>`.  
Spring Boot **se encargarÃ¡ automÃ¡ticamente** de las operaciones bÃ¡sicas de la base de datos.

---

### ğŸ”¹ **Clase `UserService` (service)**
La clase `UserService` debe manejar la lÃ³gica de negocio:  
- **Obtener todos los usuarios.**
- **Obtener un usuario por ID.**
- **Crear un usuario (validando que el email sea Ãºnico).**
- **Actualizar un usuario.**
- **Eliminar un usuario.**

---

### ğŸ”¹ **Controlador `UserController` (controller)**
Crea una clase `UserController` que maneje las peticiones HTTP (`GET`, `POST`, `PUT`, `DELETE`).

ğŸ“Œ **Endpoints de la API:**

| MÃ©todo | URL | DescripciÃ³n |
|--------|-----|-------------|
| `GET`  | `/users` | Obtener todos los usuarios |
| `GET`  | `/users/{id}` | Obtener usuario por ID |
| `POST` | `/users` | Crear un usuario |
| `PUT`  | `/users/{id}` | Actualizar un usuario |
| `DELETE` | `/users/{id}` | Eliminar un usuario |

---

## **3ï¸âƒ£ Pistas y recursos**
AquÃ­ tienes una **guÃ­a de pasos** para ayudarte a hacer cada parte. Puedes consultarla cuando necesites ayuda.

### ğŸ”¹ **Paso 1: Configurar el proyecto**
- AsegÃºrate de tener estas dependencias en tu `pom.xml`:

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
</dependency>

<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-data-jpa</artifactId>
</dependency>

<dependency>
    <groupId>com.h2database</groupId>
    <artifactId>h2</artifactId>
    <scope>runtime</scope>
</dependency>
```

- **Configura la base de datos en `application.properties`** (si usas H2):
```properties
spring.datasource.url=jdbc:h2:mem:testdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect
spring.h2.console.enabled=true
```
Esto activa la **consola H2 en `http://localhost:8080/h2-console`** para ver la base de datos.

ğŸ“Œ **Alternativa:** Si quieres usar MySQL en vez de H2, dime y te paso la configuraciÃ³n.

---

### ğŸ”¹ **Paso 2: Crear la entidad `User`**
ğŸ“– **Referencia sobre `@Entity` y JPA:**  
ğŸ”— [DocumentaciÃ³n oficial de Spring Data JPA](https://spring.io/projects/spring-data-jpa)

---

### ğŸ”¹ **Paso 3: Crear `UserRepository`**
ğŸ“– **Referencia sobre `JpaRepository`:**  
ğŸ”— [GuÃ­a oficial de Spring Data JPA](https://docs.spring.io/spring-data/jpa/docs/current/reference/html/#repositories)

---

### ğŸ”¹ **Paso 4: Crear `UserService`**
ğŸ“– **Referencia sobre servicios en Spring Boot:**  
ğŸ”— [Spring Boot Services & Components](https://spring.io/guides/gs/rest-service/)

---

### ğŸ”¹ **Paso 5: Crear `UserController`**
ğŸ“– **Referencia sobre controladores REST en Spring Boot:**  
ğŸ”— [GuÃ­a de Spring Boot REST Controllers](https://spring.io/guides/gs/rest-service/)

ğŸ“Œ **Para probar la API**, usa **Postman** o ejecuta en la terminal:
```sh
curl -X GET http://localhost:8080/users
```

---

## **ğŸ“Œ 4ï¸âƒ£ Entregable final**
Una vez que completes el CRUD, debes poder:
âœ… **Crear, leer, actualizar y eliminar usuarios.**  
âœ… **Probar los endpoints con Postman o cURL.**  
âœ… **Ver los datos en la consola H2 (`http://localhost:8080/h2-console`).**  

---

## **ğŸ“Œ 5ï¸âƒ£ Extra (Opcional)**
Si te sientes con ganas de mÃ¡s, puedes mejorar la API:
- **Validar los datos del usuario** (`@Valid`, `@NotNull`, `@Email`).
- **Manejar excepciones personalizadas** (`@ExceptionHandler`).
- **AÃ±adir paginaciÃ³n y ordenaciÃ³n** (`Pageable`).
